{"ast":null,"code":"function memo() {\n  var submit = document.getElementById(\"submit\");\n  var memos = document.getElementById(\"memos\");\n  submit.addEventListener(\"click\", function (e) {\n    var bookId = memos.getAttribute(\"data-id\");\n    var formData = new FormData(document.getElementById(\"form\"));\n    var XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/books/\".concat(bookId, \"/memos/\"), true);\n    XHR.responseType = \"json\";\n    XHR.send(formData);\n\n    XHR.onload = function () {\n      if (XHR.status != 200) {\n        alert(\"Error \".concat(XHR.status, \": \").concat(XHR.statusText));\n        return null;\n      }\n\n      var item = XHR.response.memo;\n      var list = document.getElementById(\"list\");\n      var formTitle = document.getElementById(\"title\");\n      var formText = document.getElementById(\"content\");\n      var HTML = \"\\n      <div class=\\\"memo-container\\\" data-id=\".concat(item.id, \">\\n      <div class=\\\"memo-title\\\">\\n        <span>\\u30BF\\u30A4\\u30C8\\u30EB : </span>\\n         \").concat(item.title, \"\\n      </div>\\n      <div class=\\\"memo-text\\\">\\n        \").concat(item.text, \"\\n      </div>\\n    </div>\");\n      list.insertAdjacentHTML(\"afterend\", HTML);\n      formTitle.value = \"\";\n      formText.value = \"\";\n    };\n\n    e.preventDefault();\n  });\n}\n\nwindow.addEventListener(\"load\", memo);","map":{"version":3,"sources":["/Users/kusakashiori/projects/reed-books/app/javascript/memo.js"],"names":["memo","submit","document","getElementById","memos","addEventListener","e","bookId","getAttribute","formData","FormData","XHR","XMLHttpRequest","open","responseType","send","onload","status","alert","statusText","item","response","list","formTitle","formText","HTML","id","title","text","insertAdjacentHTML","value","preventDefault","window"],"mappings":"AAAA,SAASA,IAAT,GAAgB;AACd,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACA,MAAMC,KAAK,GAAGF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd;AACAF,EAAAA,MAAM,CAACI,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,CAAD,EAAO;AACtC,QAAMC,MAAM,GAAGH,KAAK,CAACI,YAAN,CAAmB,SAAnB,CAAf;AACA,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaR,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb,CAAjB;AACA,QAAMQ,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,mBAA2BN,MAA3B,cAA4C,IAA5C;AACAI,IAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;AACAH,IAAAA,GAAG,CAACI,IAAJ,CAASN,QAAT;;AACAE,IAAAA,GAAG,CAACK,MAAJ,GAAa,YAAM;AACjB,UAAIL,GAAG,CAACM,MAAJ,IAAc,GAAlB,EAAuB;AACrBC,QAAAA,KAAK,iBAAUP,GAAG,CAACM,MAAd,eAAyBN,GAAG,CAACQ,UAA7B,EAAL;AACA,eAAO,IAAP;AACD;;AACD,UAAMC,IAAI,GAAGT,GAAG,CAACU,QAAJ,CAAarB,IAA1B;AACA,UAAMsB,IAAI,GAAGpB,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACA,UAAMoB,SAAS,GAAGrB,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;AACA,UAAMqB,QAAQ,GAAGtB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAjB;AACA,UAAMsB,IAAI,2DAC4BL,IAAI,CAACM,EADjC,6GAILN,IAAI,CAACO,KAJA,sEAONP,IAAI,CAACQ,IAPC,+BAAV;AAUFN,MAAAA,IAAI,CAACO,kBAAL,CAAwB,UAAxB,EAAoCJ,IAApC;AACAF,MAAAA,SAAS,CAACO,KAAV,GAAkB,EAAlB;AACAN,MAAAA,QAAQ,CAACM,KAAT,GAAiB,EAAjB;AACC,KAtBD;;AAuBAxB,IAAAA,CAAC,CAACyB,cAAF;AACD,GA/BD;AAgCD;;AAEDC,MAAM,CAAC3B,gBAAP,CAAwB,MAAxB,EAAgCL,IAAhC","sourcesContent":["function memo() {\n  const submit = document.getElementById(\"submit\");\n  const memos = document.getElementById(\"memos\");\n  submit.addEventListener(\"click\", (e) => {\n    const bookId = memos.getAttribute(\"data-id\");\n    const formData = new FormData(document.getElementById(\"form\"));\n    const XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", `/books/${bookId}/memos/`, true);\n    XHR.responseType = \"json\";\n    XHR.send(formData);\n    XHR.onload = () => {\n      if (XHR.status != 200) {\n        alert(`Error ${XHR.status}: ${XHR.statusText}`);\n        return null;\n      }\n      const item = XHR.response.memo;\n      const list = document.getElementById(\"list\");\n      const formTitle = document.getElementById(\"title\");\n      const formText = document.getElementById(\"content\");\n      const HTML = `\n      <div class=\"memo-container\" data-id=${item.id}>\n      <div class=\"memo-title\">\n        <span>タイトル : </span>\n         ${item.title}\n      </div>\n      <div class=\"memo-text\">\n        ${item.text}\n      </div>\n    </div>`;\n    list.insertAdjacentHTML(\"afterend\", HTML);\n    formTitle.value = \"\";\n    formText.value = \"\";\n    };\n    e.preventDefault();\n  });\n}\n\nwindow.addEventListener(\"load\", memo);"]},"metadata":{},"sourceType":"module"}