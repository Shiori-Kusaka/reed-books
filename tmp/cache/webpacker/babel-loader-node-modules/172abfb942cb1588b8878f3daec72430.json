{"ast":null,"code":"function check() {\n  var book = document.getElementById(\"book-item\");\n  book.addEventListener(\"click\", function (e) {\n    e.preventDefault();\n    var bookId = book.getAttribute(\"book-item\");\n    var XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/books/\".concat(bookId));\n    XHR.responseType = \"json\";\n    XHR.send();\n\n    XHR.onload = function () {\n      var item = XHR.response.book;\n      var dii = document.getElementById(\"@book.id\");\n\n      if (item.created) {\n        book.destroy();\n      } else if (item.destroyed) {\n        dii.destroy();\n      }\n    };\n  });\n}\n\nwindow.addEventListener(\"load\", check);","map":{"version":3,"sources":["/Users/kusakashiori/projects/reed-books/app/javascript/checked.js"],"names":["check","book","document","getElementById","addEventListener","e","preventDefault","bookId","getAttribute","XHR","XMLHttpRequest","open","responseType","send","onload","item","response","dii","created","destroy","destroyed","window"],"mappings":"AAAA,SAASA,KAAT,GAAiB;AACf,MAAMC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAb;AACAF,EAAAA,IAAI,CAACG,gBAAL,CAAsB,OAAtB,EAA+B,UAACC,CAAD,EAAO;AACpCA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAMC,MAAM,GAAGN,IAAI,CAACO,YAAL,CAAkB,WAAlB,CAAf;AACA,QAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,mBAA2BJ,MAA3B;AACAE,IAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;AACAH,IAAAA,GAAG,CAACI,IAAJ;;AACAJ,IAAAA,GAAG,CAACK,MAAJ,GAAa,YAAM;AACjB,UAAMC,IAAI,GAAIN,GAAG,CAACO,QAAJ,CAAaf,IAA3B;AACA,UAAMgB,GAAG,GAAGf,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAZ;;AACA,UAAIY,IAAI,CAACG,OAAT,EAAkB;AAChBjB,QAAAA,IAAI,CAACkB,OAAL;AACD,OAFD,MAEO,IAAIJ,IAAI,CAACK,SAAT,EAAoB;AACzBH,QAAAA,GAAG,CAACE,OAAJ;AACD;AACF,KARD;AASD,GAhBD;AAiBD;;AAEDE,MAAM,CAACjB,gBAAP,CAAwB,MAAxB,EAAgCJ,KAAhC","sourcesContent":["function check() {\n  const book = document.getElementById(\"book-item\");\n  book.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    const bookId = book.getAttribute(\"book-item\");\n    const XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", `/books/${bookId}`);\n    XHR.responseType = \"json\";\n    XHR.send();\n    XHR.onload = () => {\n      const item =  XHR.response.book;\n      const dii = document.getElementById(\"@book.id\")\n      if (item.created) {\n        book.destroy();\n      } else if (item.destroyed) {\n        dii.destroy();\n      }\n    };\n  });\n}\n\nwindow.addEventListener(\"load\", check);"]},"metadata":{},"sourceType":"module"}